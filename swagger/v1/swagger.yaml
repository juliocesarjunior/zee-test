---
openapi: 3.0.1
info:
  title: API V1
  version: v1
paths:
  "/api/v1/auth/authenticate":
    post:
      summary: authenticate
      tags:
      - Authentication Client
      parameters:
      - name: email
        in: query
        description: Email
        value: admin@admin.com
        schema:
          type: string
      - name: password
        in: query
        description: Password
        value: '1234567890'
        schema:
          type: string
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Login efetuado com sucesso!
                    token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6ImFkbWluQGFkbWluLmNvbSIsImV4cGlyZXNfaW4iOjE3MTY3MzUwMjd9.2hkpiKetoXcMPN10g2w24GT8DbzHThAhlx07qy9LXug
                    user:
                      id: 1
                      email: admin@admin.com
                      name: admin
                      status: active
                      created_at: '2024-01-21T10:40:41.687-03:00'
                      updated_at: '2024-01-21T10:40:41.687-03:00'
  "/produtos":
    get:
      summary: list products
      parameters:
      - name: page
        in: query
        description: Page number
        schema:
          type: integer
      - name: per_page
        in: query
        description: Items per page
        schema:
          type: integer
      - name: q[name_or_description_cont]
        in: query
        description: Busca por Produtos (nome ou descrição)
        schema:
          type: string
      tags:
      - Products
      security:
      - Bearer: {}
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                example_0:
                  value:
                    products:
                    - id: 1
                      name_display: Dodge Charger
                      description: Carro
                      manufacturer: Lamborghini
                      active: true
                      skus:
                      - name: Altis Hybrid 1.8 16V CVT
                        stock: 5
                        price_table: 250.000,00
                        price_listing: 260.000,00
                      created_at: '2024-01-18T13:58:28.282-03:00'
                      updated_at: '2024-01-18T13:58:28.282-03:00'
                    - id: 2
                      name_display: Super Mario
                      description: Jogo
                      manufacturer: Nintendo
                      active: true
                      skus:
                      - name: Altis Hybrid 1.8 16V CVT
                        stock: 5
                        price_table: 250.000,00
                        price_listing: 260.000,00
                      created_at: '2024-01-18T13:58:28.282-03:00'
                      updated_at: '2024-01-18T13:58:28.282-03:00'
                    meta:
                      current_page: 1
                      next_page: 2
                      prev_page: 
                      total_pages: 2
                      total_count: 20
    post:
      summary: create products
      tags:
      - products
      security:
      - Bearer: {}
      parameters: []
      responses:
        '201':
          description: successful
          content:
            application/json:
              examples:
                example_0:
                  value:
                    products:
                      id: 1
                      name_display: Dodge Charger
                      description: Carro
                      manufacturer: Lamborghini
                      active: true
                      skus:
                      - name: Altis Hybrid 1.8 16V CVT
                        stock: 5
                        price_table: 250.000,00
                        price_listing: 260.000,00
                      created_at: '2024-01-18T13:58:28.282-03:00'
                      updated_at: '2024-01-18T13:58:28.282-03:00'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                product:
                  type: object
                  properties:
                    name_display:
                      type: string
                      default: Produto 1
                    description:
                      type: string
                      default: Descrição 1
                    manufacturer:
                      type: string
                      default: Livro
                    active:
                      type: boolean
                      default: false
                    skus:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                            default: Sku 1
                          stock:
                            type: integer
                            default: 10
                          price_table:
                            type: string
                            default: '10,00'
                          price_listing:
                            type: string
                            default: '9,00'
                        required:
                        - name
                        - stock
                        - price_table
                        - price_listing
                  required:
                  - name_display
  "/produtos/{id}":
    parameters:
    - name: id
      in: path
      required: true
      description: Product ID
      schema:
        type: integer
    get:
      summary: show products
      tags:
      - products
      security:
      - Bearer: {}
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                example_0:
                  value:
                    products:
                      id: 1
                      name_display: Dodge Charger
                      description: Carro
                      manufacturer: Lamborghini
                      active: true
                      skus:
                      - name: Altis Hybrid 1.8 16V CVT
                        stock: 5
                        price_table: 250.000,00
                        price_listing: 260.000,00
                      created_at: '2024-01-18T13:58:28.282-03:00'
                      updated_at: '2024-01-18T13:58:28.282-03:00'
    put:
      summary: update products
      tags:
      - products
      security:
      - Bearer: {}
      parameters:
      - name: id
        in: path
        required: true
        description: Product ID
        schema:
          type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                example_0:
                  value:
                    products:
                      id: 1
                      name_display: Dodge Charger
                      description: Carro
                      manufacturer: Lamborghini
                      active: true
                      skus:
                      - name: Altis Hybrid 1.8 16V CVT
                        stock: 5
                        price_table: 250.000,00
                        price_listing: 260.000,00
                      created_at: '2024-01-18T13:58:28.282-03:00'
                      updated_at: '2024-01-18T13:58:28.282-03:00'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                product:
                  type: object
                  properties:
                    name_display:
                      type: string
                      default: Produto 1
                    description:
                      type: string
                      default: Descrição 1
                    manufacturer:
                      type: string
                      default: Livro
                    active:
                      type: boolean
                      default: false
                    skus:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                            default: Sku 1
                          stock:
                            type: integer
                            default: 10
                          price_table:
                            type: string
                            default: '10,00'
                          price_listing:
                            type: string
                            default: '9,00'
                        required:
                        - name
                        - stock
                        - price_table
                        - price_listing
                  required:
                  - name_display
    delete:
      summary: delete products
      tags:
      - products
      security:
      - Bearer: {}
      responses:
        '204':
          description: successful
components:
  securitySchemes:
    Bearer:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Your Bearer token
servers:
- url: http://localhost:3000
  description: Local server
